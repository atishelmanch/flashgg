##-- January 2021 Production
# cmsRun Systematics/test/workspaceStd.py metaConditions=MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json campaign=Era2017_RR-31Mar2018_v2 dataset=GluGluToHHTo2G2Qlnu_node_cHHH1_TuneCP5_PSWeights_13TeV-powheg-pythia8 doHHWWggTag=1 HHWWggTagsOnly=1 maxEvents=41 doSystematics=1 dumpWorkspace=0 dumpTrees=1 useAAA=1 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 HHWWggAnalysisChannel=SL FillUntagged=0 HHWWgguseZeroVtx=1 doHHWWggDebug=1 doGranularJEC=1 doPdfWeights=1 useParentDataset=1 recalculatePDFWeights=1


# fggRunJobs.py --load Taggers/test/HHWWgg/Signal/SL_SM2017.json -D -P -n 500 -d SL-10kEvents --stage-to=/eos/user/a/atishelm/ntuples/HHWWgg_flashgg/Pre-Production-Checks/FinalFinalChecks/SL-10kEvents/ -x cmsRun Systematics/test/workspaceStd.py maxEvents=10000 -q workday --no-use-tarball --no-copy-proxy metaConditions=/afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg/MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json doHHWWggTag=1 HHWWggTagsOnly=1 doSystematics=1 dumpTrees=1 dumpWorkspace=0 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 copyInputMicroAOD=1 doGranularJEC=1 doPdfWeights=1 useParentDataset=1 recalculatePDFWeights=1
# fggRunJobs.py --load Taggers/test/HHWWgg/Signal/FH_SM2017.json -D -P -n 500 -d FH-10kEvents --stage-to=/eos/user/a/atishelm/ntuples/HHWWgg_flashgg/Pre-Production-Checks/FinalFinalChecks/FH-10kEvents/ -x cmsRun Systematics/test/workspaceStd.py maxEvents=10000 -q workday --no-use-tarball --no-copy-proxy metaConditions=/afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg/MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json doHHWWggTag=1 HHWWggTagsOnly=1 doSystematics=1 dumpTrees=1 dumpWorkspace=0 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 copyInputMicroAOD=1 doGranularJEC=1 doPdfWeights=1 useParentDataset=1 recalculatePDFWeights=1
# fggRunJobs.py --load Taggers/test/HHWWgg/Signal/FL_SM2017.json -D -P -n 500 -d FL-10kEvents --stage-to=/eos/user/a/atishelm/ntuples/HHWWgg_flashgg/Pre-Production-Checks/FinalFinalChecks/FL-10kEvents/ -x cmsRun Systematics/test/workspaceStd.py maxEvents=10000 -q workday --no-use-tarball --no-copy-proxy metaConditions=/afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg/MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json doHHWWggTag=1 HHWWggTagsOnly=1 doSystematics=1 dumpTrees=1 dumpWorkspace=0 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 copyInputMicroAOD=1 doGranularJEC=1 doPdfWeights=1 useParentDataset=1 recalculatePDFWeights=1


# fggRunJobs.py --load Taggers/test/HHWWgg/Signal/SL_SM2017.json -D -P -n 500 -d SL-5kEvents --stage-to=/eos/user/a/atishelm/ntuples/HHWWgg_flashgg/Pre-Production-Checks/FinalFinalChecks/SL-5kEvents/ -x cmsRun Systematics/test/workspaceStd.py maxEvents=5000 -q longlunch --no-use-tarball --no-copy-proxy metaConditions=/afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg/MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json doHHWWggTag=1 HHWWggTagsOnly=1 doSystematics=1 dumpTrees=1 dumpWorkspace=0 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 copyInputMicroAOD=1 doGranularJEC=1 doPdfWeights=1 useParentDataset=1 recalculatePDFWeights=1


# cmsRun Systematics/test/workspaceStd.py metaConditions=MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json campaign=Era2017_RR-31Mar2018_v2 dataset=GluGluToHHTo2G2Qlnu_node_cHHH1_TuneCP5_PSWeights_13TeV-powheg-pythia8 doHHWWggTag=1 HHWWggTagsOnly=1 maxEvents=41 doSystematics=1 dumpWorkspace=0 dumpTrees=1 useAAA=1 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 HHWWggAnalysisChannel=SL FillUntagged=0 HHWWgguseZeroVtx=1 doHHWWggDebug=1 doGranularJEC=1 doPdfWeights=1 useParentDataset=1 recalculatePDFWeights=1
# cmsRun Systematics/test/workspaceStd.py metaConditions=MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json campaign=Era2017_RR-31Mar2018_v2 dataset=GluGluToHHTo2G2Qlnu_node_cHHH1_TuneCP5_PSWeights_13TeV-powheg-pythia8 doHHWWggTag=1 HHWWggTagsOnly=1 maxEvents=41 doSystematics=1 dumpWorkspace=0 dumpTrees=1 useAAA=1 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 HHWWggAnalysisChannel=SL FillUntagged=0 HHWWgguseZeroVtx=1 doHHWWggDebug=1 doGranularJEC=1 doPdfWeights=1 useParentDataset=1 recalculatePDFWeights=1
# fggRunJobs.py --load Taggers/test/HHWWgg/Signal/SL_SM2017.json -D -P -n 500 -d SL-5kEvents-MicroCentury --stage-to=/eos/user/a/atishelm/ntuples/HHWWgg_flashgg/Pre-Production-Checks/PDFWeights/SL-5kEvents-MicroCentury/ -x cmsRun Systematics/test/workspaceStd.py maxEvents=5000 -q microcentury --no-use-tarball --no-copy-proxy metaConditions=/afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg/MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json doHHWWggTag=1 HHWWggTagsOnly=1 doSystematics=1 dumpTrees=1 dumpWorkspace=0 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 copyInputMicroAOD=1 doGranularJEC=1 doPdfWeights=1 useParentDataset=1 recalculatePDFWeights=1

#####

# cmsRun Systematics/test/workspaceStd.py metaConditions=MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json campaign=Era2017_RR-31Mar2018_v2 dataset=GluGluToHHTo2G2Qlnu_node_cHHH1_TuneCP5_PSWeights_13TeV-powheg-pythia8 doHHWWggTag=1 HHWWggTagsOnly=1 maxEvents=500 doSystematics=1 dumpWorkspace=0 dumpTrees=1 useAAA=1 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 HHWWggAnalysisChannel=SL FillUntagged=1 HHWWgguseZeroVtx=1 doHHWWggDebug=1 doGranularJEC=1 doPdfWeights=1 useParentDataset=1 recalculatePDFWeights=1

# fggRunJobs.py --load Taggers/test/HHWWgg/Signal/SL_SM2017.json -D -P -n 500 -d SL-5kEvents-MicroCentury --stage-to=/eos/user/a/atishelm/ntuples/HHWWgg_flashgg/Pre-Production-Checks/PDFWeights/SL-5kEvents-MicroCentury/ -x cmsRun Systematics/test/workspaceStd.py maxEvents=5000 -q microcentury --no-use-tarball --no-copy-proxy metaConditions=/afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg/MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json doHHWWggTag=1 HHWWggTagsOnly=1 doSystematics=1 dumpTrees=1 dumpWorkspace=0 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 copyInputMicroAOD=1 doGranularJEC=1 doPdfWeights=1 useParentDataset=1 recalculatePDFWeights=1
# fggRunJobs.py --load Taggers/test/HHWWgg/Signal/SL_SM2017.json -D -P -n 500 -d SL-50kEvents --stage-to=/eos/user/a/atishelm/ntuples/HHWWgg_flashgg/Pre-Production-Checks/PDFWeights/SL-50kEvents/ -x cmsRun Systematics/test/workspaceStd.py maxEvents=50000 -q workday --no-use-tarball --no-copy-proxy metaConditions=/afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg/MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json doHHWWggTag=1 HHWWggTagsOnly=1 doSystematics=1 dumpTrees=1 dumpWorkspace=0 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 copyInputMicroAOD=1 doGranularJEC=1 doPdfWeights=1 useParentDataset=1 recalculatePDFWeights=1

# cmsRun Systematics/test/workspaceStd.py metaConditions=MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json campaign=Era2017_RR-31Mar2018_v2 dataset=GluGluToHHTo2G2Qlnu_node_cHHH1_TuneCP5_PSWeights_13TeV-powheg-pythia8 doHHWWggTag=1 HHWWggTagsOnly=1 maxEvents=500 doSystematics=1 dumpWorkspace=0 dumpTrees=1 useAAA=1 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 HHWWggAnalysisChannel=SL FillUntagged=1 HHWWgguseZeroVtx=1 doHHWWggDebug=1 doGranularJEC=1 doPdfWeights=1 useParentDataset=1

# fggRunJobs.py --load Taggers/test/HHWWgg/Signal/FL_SM2017.json -D -P -n 500 -d FL-20kEvents --stage-to=/eos/user/a/atishelm/ntuples/HHWWgg_flashgg/Pre-Production-Checks/FinalChecks/FL-20kEvents/ -x cmsRun Systematics/test/workspaceStd.py maxEvents=20000 -q microcentury --no-use-tarball --no-copy-proxy metaConditions=/afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg/MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json doHHWWggTag=1 HHWWggTagsOnly=1 doSystematics=0 dumpTrees=1 dumpWorkspace=0 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 copyInputMicroAOD=1

# python Systematics/test/workspaceStd.py metaConditions=MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json campaign=Era2017_RR-31Mar2018_v2 dataset=GluGluToHHTo2G2Qlnu_node_cHHH1_TuneCP5_PSWeights_13TeV-powheg-pythia8 doHHWWggTag=1 HHWWggTagsOnly=1 maxEvents=500 doSystematics=0 dumpWorkspace=0 dumpTrees=1 useAAA=1 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 HHWWggAnalysisChannel=SL FillUntagged=1 HHWWgguseZeroVtx=1 doHHWWggDebug=1

##-- Semi-Leptonic
# cmsRun Systematics/test/workspaceStd.py metaConditions=MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json campaign=Era2017_RR-31Mar2018_v2 dataset=GluGluToHHTo2G2Qlnu_node_cHHH1_TuneCP5_PSWeights_13TeV-powheg-pythia8 doHHWWggTag=1 HHWWggTagsOnly=1 maxEvents=1000 doSystematics=0 dumpWorkspace=0 dumpTrees=1 useAAA=1 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 HHWWggAnalysisChannel=SL HHWWgguseZeroVtx=1 doHHWWggDebug=1
##-- Fully-Hadronic

##-- Fully-Leptonic
# cmsRun Systematics/test/workspaceStd.py metaConditions=MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json campaign=Era2017_RR-31Mar2018_v2 dataset=GluGluToHHTo2G2l2nu_node_cHHH1_TuneCP5_PSWeights_13TeV-powheg-pythia8 doHHWWggTag=1 HHWWggTagsOnly=1 maxEvents=500 doSystematics=0 dumpWorkspace=0 dumpTrees=1 useAAA=1 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 HHWWggAnalysisChannel=all HHWWgguseZeroVtx=1 doHHWWggDebug=1


# cmsRun Systematics/test/workspaceStd.py metaConditions=MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json campaign=Era2017_RR-31Mar2018_v2 dataset=GluGluToHHTo2G2l2nu_node_cHHH1_TuneCP5_PSWeights_13TeV-powheg-pythia8 doHHWWggTag=1 HHWWggTagsOnly=1 maxEvents=500 doSystematics=0 dumpWorkspace=0 dumpTrees=1 useAAA=1 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 HHWWggAnalysisChannel=all HHWWgguseZeroVtx=1 doHHWWggDebug=1
# cmsRun Systematics/test/workspaceStd.py metaConditions=MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json campaign=Era2017_RR-31Mar2018_v2 dataset=GluGluToHHTo2G2l2nu_node_cHHH1_TuneCP5_PSWeights_13TeV-powheg-pythia8 doHHWWggTag=1 HHWWggTagsOnly=1 maxEvents=500 doSystematics=0 dumpWorkspace=0 dumpTrees=1 useAAA=1 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 HHWWggAnalysisChannel=all HHWWgguseZeroVtx=1 doHHWWggDebug=1

##########
# fggRunJobs.py --load Taggers/test/HHWWgg/Signal/FH_SM2017.json -D -P -n 500 -d FH_SM2017_AllIDs --stage-to=/eos/user/a/atishelm/ntuples/HHWWgg_flashgg/Pre-Production-Checks/PUJetID/FH_SM2017_AllIDs/ -x cmsRun Systematics/test/workspaceStd.py maxEvents=-1 -q workday --no-use-tarball --no-copy-proxy metaConditions=/afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg/MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json doHHWWggTag=1 HHWWggTagsOnly=1 doSystematics=0 dumpTrees=1 dumpWorkspace=0 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 copyInputMicroAOD=1
# fggRunJobs.py --load Taggers/test/HHWWgg/Data/HHWWgg_Data_All_2017.json -D -P -n 500 -d Data_2017_AllIDs --stage-to=/eos/user/a/atishelm/ntuples/HHWWgg_flashgg/Pre-Production-Checks/PUJetID/Data_2017_AllIDs/ -x cmsRun Systematics/test/workspaceStd.py maxEvents=-1 -q workday --no-use-tarball --no-copy-proxy metaConditions=/afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg/MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json doHHWWggTag=1 HHWWggTagsOnly=1 doSystematics=0 dumpTrees=1 dumpWorkspace=0 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 copyInputMicroAOD=1



# fggRunJobs.py --load Taggers/test/HHWWgg/Data/HHWWgg_Data_EraBOnly_2017.json -D -P -n 500 -d Data_2017_EraB_allIDs --stage-to=/eos/user/a/atishelm/ntuples/HHWWgg_flashgg/Pre-Production-Checks/PUJetID/Data_2017_EraB_allIDs/ -x cmsRun Systematics/test/workspaceStd.py maxEvents=-1 -q workday --no-use-tarball --no-copy-proxy metaConditions=/afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg/MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json doHHWWggTag=1 HHWWggTagsOnly=1 doSystematics=0 dumpTrees=1 dumpWorkspace=0 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 copyInputMicroAOD=1
# fggRunJobs.py --load Taggers/test/HHWWgg/Data/HHWWgg_Data_EraBOnly_2017.json -D -P -n 500 -d Data_2017_EraB_noPUJetID_allEvents --stage-to=/eos/user/a/atishelm/ntuples/HHWWgg_flashgg/Pre-Production-Checks/PUJetID/Data_2017_EraB_noPUJetID_allEvents/ -x cmsRun Systematics/test/workspaceStd.py maxEvents=-1 -q workday --no-use-tarball --no-copy-proxy metaConditions=/afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg/MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg-noPUJetID.json doHHWWggTag=1 HHWWggTagsOnly=1 doSystematics=0 dumpTrees=1 dumpWorkspace=0 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 copyInputMicroAOD=1
# fggRunJobs.py --load Taggers/test/HHWWgg/Data/HHWWgg_Data_EraBOnly_2017.json -D -P -n 500 -d Data_2017_EraB_TightPUJetID_allEvents --stage-to=/eos/user/a/atishelm/ntuples/HHWWgg_flashgg/Pre-Production-Checks/PUJetID/Data_2017_EraB_TightPUJetID_allEvents/ -x cmsRun Systematics/test/workspaceStd.py maxEvents=-1 -q workday --no-use-tarball --no-copy-proxy metaConditions=/afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg/MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json doHHWWggTag=1 HHWWggTagsOnly=1 doSystematics=0 dumpTrees=1 dumpWorkspace=0 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 copyInputMicroAOD=1
# fggRunJobs.py --load Taggers/test/HHWWgg/Data/HHWWgg_Data_EraBOnly_2017.json -D -P -n 500 -d Data_2017_EraB_noPUJetID_allEvents --stage-to=/eos/user/a/atishelm/ntuples/HHWWgg_flashgg/Pre-Production-Checks/Data_2017_EraB_noPUJetID_allEvents/ -x cmsRun Systematics/test/workspaceStd.py maxEvents=-1 -q workday --no-use-tarball --no-copy-proxy metaConditions=/afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg/MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg-LooseElecTightMuon.json doHHWWggTag=1 HHWWggTagsOnly=1 doSystematics=0 dumpTrees=1 dumpWorkspace=0 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 copyInputMicroAOD=1

##########

# fggRunJobs.py --load Taggers/test/HHWWgg/Data/HHWWgg_Data_All_2017.json -D -P -n 500 -d Data_2017_TightPUJetID_allEvents --stage-to=/eos/user/a/atishelm/ntuples/HHWWgg_flashgg/Pre-Production-Checks/Data_2017_TightPUJetID_allEvents/ -x cmsRun Systematics/test/workspaceStd.py maxEvents=-1 -q workday --no-use-tarball --no-copy-proxy metaConditions=/afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg/MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg-LooseElecTightMuon.json doHHWWggTag=1 HHWWggTagsOnly=1 doSystematics=0 dumpTrees=1 dumpWorkspace=0 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 copyInputMicroAOD=1
# cmsRun Systematics/test/workspaceStd.py metaConditions=MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg-LooseElecTightMuon.json campaign=Era2017_RR-31Mar2018_v2 dataset=/DoubleEG/spigazzi-Era2017_RR-31Mar2018_v2-legacyRun2FullV1-v0-Run2017B-31Mar2018-v1-d9c0c6cde5cc4a64343ae06f842e5085/USER doHHWWggTag=1 HHWWggTagsOnly=1 maxEvents=500 doSystematics=0 dumpWorkspace=0 dumpTrees=1 useAAA=1 processId=Data processType=Data doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 HHWWggAnalysisChannel=all HHWWgguseZeroVtx=1 FillUntagged=1 doHHWWggDebug=1
# cmsRun Systematics/test/workspaceStd.py metaConditions= MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg- campaign=Era2017_RR-31Mar2018_v2 dataset=/DoubleEG/spigazzi-Era2017_RR-31Mar2018_v2-legacyRun2FullV1-v0-Run2017B-31Mar2018-v1-d9c0c6cde5cc4a64343ae06f842e5085/USER doHHWWggTag=1 HHWWggTagsOnly=1 maxEvents=500 doSystematics=0 dumpWorkspace=0 dumpTrees=1 useAAA=1 processId=Data processType=Data doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 HHWWggAnalysisChannel=SL HHWWgguseZeroVtx=1

##-- Running on condor 

##-- FH 
# fggRunJobs.py --load Taggers/test/HHWWgg/Signal/FH_SM2017.json -D -P -n 500 -d FH_SM2017_TightPUJetID_allEvents --stage-to=/eos/user/a/atishelm/ntuples/HHWWgg_flashgg/Pre-Production-Checks/FH_SM2017_TightPUJetID_allEvents/ -x cmsRun Systematics/test/workspaceStd.py maxEvents=-1 -q workday --no-use-tarball --no-copy-proxy metaConditions=/afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg/MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg-LooseElecTightMuon.json doHHWWggTag=1 HHWWggTagsOnly=1 doSystematics=0 dumpTrees=1 dumpWorkspace=0 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 copyInputMicroAOD=1

##-- 
# fggRunJobs.py --load Taggers/test/HHWWgg/Signal/FH_SM2017.json -D -P -n 500 -d FH_SM2017_noPUJetID_lowEvents --stage-to=/eos/user/a/atishelm/ntuples/HHWWgg_flashgg/Pre-Production-Checks/FH_SM2017_noPUJetID_lowEvents/ -x cmsRun Systematics/test/workspaceStd.py maxEvents=1000 -q microcentury --no-use-tarball --no-copy-proxy metaConditions=/afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg/MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg-LooseElecTightMuon.json doHHWWggTag=1 HHWWggTagsOnly=1 doSystematics=0 dumpTrees=1 dumpWorkspace=0 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 copyInputMicroAOD=1

##########

##-- Most up to date local with reduced JEC uncertainties and PDF weights 
# cmsRun Systematics/test/workspaceStd.py metaConditions=MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg-MediumElecMediumMuon.json campaign=Era2017_RR-31Mar2018_v2 dataset=GluGluToHHTo2G2Qlnu_node_cHHH1_TuneCP5_PSWeights_13TeV-powheg-pythia8 doHHWWggTag=1 HHWWggTagsOnly=1 maxEvents=500 doSystematics=1 dumpWorkspace=0 dumpTrees=1 useAAA=1 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 HHWWggAnalysisChannel=SL FillUntagged=1 HHWWgguseZeroVtx=1 doHHWWggDebug=1 doGranularJEC=1 doPdfWeights=1 useParentDataset=1

##########

##-- Run Locally 

##-- Semi-Leptonic
# cmsRun Systematics/test/workspaceStd.py metaConditions=MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg-LooseElecTightMuon.json campaign=Era2017_RR-31Mar2018_v2 dataset=GluGluToHHTo2G2Qlnu_node_cHHH1_TuneCP5_PSWeights_13TeV-powheg-pythia8 doHHWWggTag=1 HHWWggTagsOnly=1 maxEvents=500 doSystematics=0 dumpWorkspace=0 dumpTrees=1 useAAA=1 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 HHWWggAnalysisChannel=SL FillUntagged=1 HHWWgguseZeroVtx=1 doHHWWggDebug=1
# cmsRun Systematics/test/workspaceStd.py metaConditions=MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json campaign=Era2017_RR-31Mar2018_v2 dataset=GluGluToHHTo2G2Qlnu_node_cHHH1_TuneCP5_PSWeights_13TeV-powheg-pythia8 doHHWWggTag=1 HHWWggTagsOnly=1 maxEvents=500 doSystematics=0 dumpWorkspace=0 dumpTrees=1 useAAA=1 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 HHWWggAnalysisChannel=SL HHWWgguseZeroVtx=1 doHHWWggDebug=1

##-- Fully Hadronic
# cmsRun Systematics/test/workspaceStd.py metaConditions=MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json campaign=Era2017_RR-31Mar2018_v2 dataset=GluGluToHHTo2G4Q_node_cHHH1_TuneCP5_PSWeights_13TeV-powheg-pythia8 doHHWWggTag=1 HHWWggTagsOnly=1 maxEvents=500 doSystematics=0 dumpWorkspace=0 dumpTrees=1 useAAA=1 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 HHWWggAnalysisChannel=FH HHWWgguseZeroVtx=1 doHHWWggDebug=1 doHHWWggFHminWHJets=1

##-- Fully Leptonic 
# cmsRun Systematics/test/workspaceStd.py metaConditions=MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json campaign=Era2017_RR-31Mar2018_v2 dataset=GluGluToHHTo2G2l2nu_node_cHHH1_TuneCP5_PSWeights_13TeV-powheg-pythia8 doHHWWggTag=1 HHWWggTagsOnly=1 maxEvents=500 doSystematics=0 dumpWorkspace=0 dumpTrees=1 useAAA=1 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 HHWWggAnalysisChannel=all HHWWgguseZeroVtx=1 doHHWWggDebug=1

####

##-- Signal

##-- Latest 
# fggRunJobs.py --load Taggers/test/HHWWgg/Signal/SL_SM2017.json -D -P -n 500 -d SL-MedElec-MedMuon-AllEvents --stage-to=/eos/user/a/atishelm/ntuples/HHWWgg_flashgg/Pre-Production-Checks/SL-MedElec-MedMuon-AllEvents/ -x cmsRun Systematics/test/workspaceStd.py maxEvents=-1 -q workday --no-use-tarball --no-copy-proxy metaConditions=/afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg/MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg-MediumElecMediumMuon.json doHHWWggTag=1 HHWWggTagsOnly=1 doSystematics=0 dumpTrees=1 dumpWorkspace=0 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 copyInputMicroAOD=1
# fggRunJobs.py --load Taggers/test/HHWWgg/Signal/SL_SM2017.json -D -P -n 500 -d SL-LooseElec-TightMuon-AllEvents --stage-to=/eos/user/a/atishelm/ntuples/HHWWgg_flashgg/Pre-Production-Checks/SL-LooseElec-TightMuon-AllEvents/ -x cmsRun Systematics/test/workspaceStd.py maxEvents=-1 -q workday --no-use-tarball --no-copy-proxy metaConditions=/afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg/MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg-LooseElecTightMuon.json doHHWWggTag=1 HHWWggTagsOnly=1 doSystematics=0 dumpTrees=1 dumpWorkspace=0 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 copyInputMicroAOD=1

##-- Semi-Leptonic Loose-Electron Tight-Muon 
# fggRunJobs.py --load Taggers/test/HHWWgg/Signal/SL_SM2017.json -D -P -n 500 -d SL-LooseElec-TightMuon-LowEvents_again --stage-to=/eos/user/a/atishelm/ntuples/HHWWgg_flashgg/Pre-Production-Checks/SL-LooseElec-TightMuon-LowEvents_again/ -x cmsRun Systematics/test/workspaceStd.py maxEvents=1000 -q espresso --no-use-tarball --no-copy-proxy metaConditions=/afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg/MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg-LooseElecTightMuon.json doHHWWggTag=1 HHWWggTagsOnly=1 doSystematics=0 dumpTrees=1 dumpWorkspace=0 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 copyInputMicroAOD=1

##-- Semi-Leptonic
# fggRunJobs.py --load Taggers/test/HHWWgg/SL_SM2017.json -D -P -n 500 -d SL_SM2017_noPUJID_100kEvents --stage-to=/eos/user/a/atishelm/ntuples/HHWWgg_flashgg/PUJID_Checks/SL_SM2017_noPUJID_100kEvents/ -x cmsRun Systematics/test/workspaceStd.py maxEvents=100000 -q longlunch --no-use-tarball --no-copy-proxy metaConditions=/afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg/MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json doHHWWggTag=1 HHWWggTagsOnly=1 doSystematics=0 dumpTrees=1 dumpWorkspace=0 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 copyInputMicroAOD=1

##-- Fully-Hadronic 
# fggRunJobs.py --load Taggers/test/HHWWgg/FH_SM2017.json -D -P -n 500 -d FH_SM2017 --stage-to=/eos/user/a/atishelm/ntuples/HHWWgg_flashgg/TaggerOutput/FH_SM2017/ -x cmsRun Systematics/test/workspaceStd.py maxEvents=100000 -q longlunch --no-use-tarball --no-copy-proxy metaConditions=/afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg/MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json doHHWWggTag=1 HHWWggTagsOnly=1 doSystematics=0 dumpTrees=1 dumpWorkspace=0 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 copyInputMicroAOD=1

##-- Fully-Leptonic 
# fggRunJobs.py --load Taggers/test/HHWWgg/FL_SM2017.json -D -P -n 500 -d FL_SM2017 --stage-to=/eos/user/a/atishelm/ntuples/HHWWgg_flashgg/Signal_MediumMVAElecID_MediumMuonIDISO/FL_SM2017/ -x cmsRun Systematics/test/workspaceStd.py maxEvents=-1 -q longlunch --no-use-tarball --no-copy-proxy metaConditions=/afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg/MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json doHHWWggTag=1 HHWWggTagsOnly=1 doSystematics=0 dumpTrees=1 dumpWorkspace=0 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 copyInputMicroAOD=1
# fggRunJobs.py --load Taggers/test/HHWWgg/FL_SM2017.json -D -P -n 500 -d FL_SM2017 --stage-to=/eos/user/a/atishelm/ntuples/HHWWgg_flashgg/TaggerOutput/FL_SM2017/ -x cmsRun Systematics/test/workspaceStd.py maxEvents=100000 -q longlunch --no-use-tarball --no-copy-proxy metaConditions=/afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg/MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json doHHWWggTag=1 HHWWggTagsOnly=1 doSystematics=0 dumpTrees=1 dumpWorkspace=0 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 copyInputMicroAOD=1

##-- ttH 
# fggRunJobs.py --load Taggers/test/HHWWgg/ttHJetToGG_2017.json -D -P -n 500 -d ttHJetToGG_2017_lowEvents --stage-to=/eos/user/a/atishelm/ntuples/HHWWgg_flashgg/TaggerOutput/ttHJetToGG_2017_lowEvents/ -x cmsRun Systematics/test/workspaceStd.py maxEvents=-1 -q workday --no-use-tarball --no-copy-proxy metaConditions=/afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg/MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json doHHWWggTag=1 HHWWggTagsOnly=1 doSystematics=0 dumpTrees=1 dumpWorkspace=0 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 copyInputMicroAOD=1
# fggRunJobs.py --load Taggers/test/HHWWgg/ttHJetToGG_2017.json -D -P -n 500 -d ttHJetToGG_2017 --stage-to=/eos/user/a/atishelm/ntuples/HHWWgg_flashgg/TaggerOutput/ttHJetToGG_2017/ -x cmsRun Systematics/test/workspaceStd.py maxEvents=-1 -q workday --no-use-tarball --no-copy-proxy metaConditions=/afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg/MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json doHHWWggTag=1 HHWWggTagsOnly=1 doSystematics=0 dumpTrees=1 dumpWorkspace=0 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 copyInputMicroAOD=1
# fggRunJobs.py --load Taggers/test/HHWWgg/ttHJetToGG_2017.json -D -P -n 500 -d ttHJetToGG_2017 --stage-to=/eos/user/a/atishelm/ntuples/HHWWgg_flashgg/TaggerOutput/ttHJetToGG_2017/ -x cmsRun Systematics/test/workspaceStd.py maxEvents=100000 -q workday --no-use-tarball --no-copy-proxy metaConditions=/afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg/MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json doHHWWggTag=1 HHWWggTagsOnly=1 doSystematics=0 dumpTrees=1 dumpWorkspace=0 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 copyInputMicroAOD=1

# fggRunJobs.py --load Taggers/test/HHWWgg/SL_SM2017.json -D -P -n 500 -d SL_SM2017 --stage-to="/eos/user/a/atishelm/ntuples/HHWWgg_flashgg/TaggerOutput/SL_SM2017/" -x cmsRun Systematics/test/workspaceStd.py maxEvents=100000 -q longlunch --no-use-tarball --no-copy-proxy metaConditions=/afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg/MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json doHHWWggTag=1 HHWWggTagsOnly=1 doSystematics=0 dumpTrees=1 dumpWorkspace=0 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 copyInputMicroAOD=1
# fggRunJobs.py --load Taggers/test/HHWWgg_NLO/SL_SM2017.json -D -P -n 500 -d HHWWgg-SM-NLO-SF-Checks --stage-to="/eos/user/a/atishelm/ntuples/HHWWgg_flashgg/HHWWgg-SM-NLO-SF-Checks/" -x cmsRun Systematics/test/workspaceStd.py maxEvents=100000 -q longlunch --no-use-tarball --no-copy-proxy metaConditions=/afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg/MetaData/data/MetaConditions/Era2017_RR-31Mar2018_v1-HHWWgg.json doHHWWggTag=1 HHWWggTagsOnly=1 doSystematics=0 dumpTrees=1 dumpWorkspace=0 doHHWWggTagCutFlow=1 saveHHWWggFinalStateVars=1 copyInputMicroAOD=1

############################################################################################################################################################################################
# Abraham Tishelman-Charny 
# 23 October 2020
#
# The purpose of this module is to submit flashgg jobs to HTCondor.
#
# Example Usage:
# python MetaData/scripts/SubmitJobs.py --fggDirec /afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg --outDirec /eos/user/a/atishelm/ntuples/HHWWgg_flashgg/TaggerOutput/ --label HHWWgg-SL-SM-NLO-2016 --nEvents -1 --HHWWgg --dumpWorkspace --jsonPath Taggers/test/HHWWgg_NLO/SL_SM2016.json --year 2016 --condorQueue microcentury
#
# python MetaData/scripts/SubmitJobs.py --fggDirec /afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg --outDirec /eos/user/a/atishelm/ntuples/HHWWgg_flashgg --label HHWWgg-SL-SM-NLO-2016 --nEvents 20000 --HHWWgg --dumpTrees --jsonPath Taggers/test/HHWWgg_NLO/SL_SM2016.json  --year 2016 --condorQueue microcentury
#
# SM SL NLO 2018 example
# python MetaData/scripts/SubmitJobs.py --fggDirec /afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg --outDirec /eos/user/a/atishelm/ntuples/HHWWgg_flashgg --label HHWWgg-SL-SM-NLO-LowEvents-Trees --nEvents 1000 --saveHHWWggFinalStateVars --HHWWgg --dumpTrees --jsonPath Taggers/test/Examples/HHWWgg-SL-SM-NLO/SL_SM2018.json 
# 
# Signal
# python MetaData/scripts/SubmitJobs.py --fggDirec /afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg --outDirec /eos/user/a/atishelm/ntuples/HHWWgg_flashgg --label HHWWgg-SL-SM-NLO-2018 --nEvents -1 --HHWWgg --dumpWorkspace --jsonPath Taggers/test/Examples/HHWWgg-SL-SM-NLO/SL_SM2018.json
#
# Data
# python MetaData/scripts/SubmitJobs.py --fggDirec /afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg --outDirec /eos/user/a/atishelm/ntuples/HHWWgg_flashgg --label 2018-DoubleEG-Data-LowEvents --nEvents 1000 --HHWWgg --dumpTrees --jsonPath Taggers/test/Examples/HHWWgg-SL-SM-NLO/HHWWgg_Data_All_2018.json
# 
# python MetaData/scripts/SubmitJobs.py --fggDirec /afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg --outDirec /eos/user/a/atishelm/ntuples/HHWWgg_flashgg --label Private-SL-SM-saveGenVars --nEvents -1 --saveHHWWggFinalStateVars --HHWWgg --dumpTrees --jsonPath Taggers/test/HHWWgg_Combination/SL_Analysis/SL_SM2017.json --year 2017 --condorQueue longlunch --doHHWWggTagCutFlow --extraFlagsStr doubleHReweight=1
# python MetaData/scripts/SubmitJobs.py --fggDirec /afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg --outDirec /eos/user/a/atishelm/ntuples/HHWWgg_flashgg --label testNewScript --nEvents 1000 --saveHHWWggFinalStateVars --HHWWgg --dumpTrees --jsonPath Taggers/test/HHWWgg_Combination/SL_Analysis/SL_SM2017.json --year 2017 --condorQueue espresso --doHHWWggTagCutFlow --extraFlagsStr   
# python MetaData/scripts/SubmitJobs.py --fggDirec /afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg --outDirec /eos/user/a/atishelm/ntuples/HHWWgg_flashgg --label testNewScript --nEvents 1000 --saveHHWWggFinalStateVars --HHWWgg --dumpTrees --jsonPath Taggers/test/HHWWgg_Combination/SL_Analysis/SL_SM2017.json --year 2017 --condorQueue espresso --doHHWWggTagCutFlow --extraFlagsStr doubleHReweight=1  
# python MetaData/scripts/SubmitJobs.py --fggDirec /afs/cern.ch/work/a/atishelm/private/flashgg-10_6_8/CMSSW_10_6_8/src/flashgg --outDirec /eos/user/a/atishelm/ntuples/HHWWgg_flashgg --label testNewScript --nEvents -1 --saveHHWWggFinalStateVars --HHWWgg --dumpTrees --jsonPath Taggers/test/HHWWgg_Combination/SL_Analysis/SL_SM2017.json --year 2017 --condorQueue espresso --doHHWWggTagCutFlow --extraFlagsStr doubleHReweight=1  
############################################################################################################################################################################################

# Before running, run:
#
# cmsenv
# voms
# cp /tmp/MYPROXY ~/
# export X509_USER_PROXY=~/MYPROXY

import os 
from python.Options import * 
from python.SubmitJobs_Tools import * 

##-- Get User input Args
args = GetOptions() 

argNames = ['fggDirec','outDirec', 'label', 'nEvents', 'saveHHWWggFinalStateVars', 'HHWWgg', 'doSystematics', 'dumpTrees', 'dumpWorkspace', 'dryRun', 'jsonPath', 'condorQueue', 'year','doHHWWggTagCutFlow', 'extraFlagsStr']
for argName in argNames: 
    exec("%s = args.%s"%(argName,argName))

rootFileOutput = "%s/%s"%(outDirec,label)

os.system("mkdir -p %s"%(label)) 
os.system("mkdir -p %s"%(rootFileOutput))

metaConditionsPath = GetMetaConditionsPath(fggDirec, year)

submitCommand = 'fggRunJobs.py --load %s -D -P -n 500 -d %s --stage-to="%s" -x cmsRun Systematics/test/workspaceStd.py maxEvents=%s -q %s --no-use-tarball --no-copy-proxy metaConditions=%s '%(jsonPath, label, rootFileOutput, nEvents, condorQueue, metaConditionsPath)
if(HHWWgg): submitCommand += " doHHWWggTag=1 HHWWggTagsOnly=1 "
submitCommand += ' %s'%(extraFlagsStr)

flags = ['doSystematics', 'dumpTrees', 'dumpWorkspace', 'doHHWWggTagCutFlow', 'saveHHWWggFinalStateVars']
for flag in flags:
    flagTrue = str(eval(flag))
    submitCommand += " "
    submitCommand += "%s=%s"%(flag,flagTrue)

print("submitCommand:")
print"-------------------------------"
print submitCommand
print"-------------------------------"

if(not dryRun):
    print("Running command:")
    print submitCommand
    os.system(submitCommand)
    print"Finished job for file: %s"%(jsonPath)
